
@{
    string UserName = "guest";

    if (Request.IsAuthenticated)
    {
        UserName = User.Identity.Name;
    }

}

<!-- Left side column. contains the logo and sidebar -->
<aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
        <!-- Sidebar user panel (optional) -->
        <div class="user-panel" style="padding-bottom:30px;">
            <div class="pull-left image">
                @*<img src="dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">*@
                @*<img src="https://randomuser.me/api/portraits/men/9.jpg" class="img-circle" alt="User Image">*@
            </div>
            <div class="pull-left info">
                <p>@UserName</p>
                <!-- Status -->
                @*<a href="#"><i class="fa fa-circle text-success"></i> Online</a>
                    <a href="#"><i class="fa fa-circle text-red"></i> Offline</a>*@
            </div>
        </div>
        <!-- search form (Optional) -->
        @*<form action="#" method="get" class="sidebar-form">
                <div class="input-group">
                    <input type="text" name="q" class="form-control" placeholder="Search...">
                    <span class="input-group-btn">
                        <button type="submit" name="search" id="search-btn" class="btn btn-flat">
                            <i class="fa fa-search"></i>
                        </button>
                    </span>
                </div>
            </form>*@
        <!-- /.search form -->
        <!-- Sidebar Menu -->
        <ul class="sidebar-menu" data-widget="tree">
            @if (Request.IsAuthenticated)
            {
                <li class="header">功能選單</li>
                <li class="active">
                    <a href="@Url.Action("Index", "Home", null)"><i class="fa fa-home"></i><span>首頁公告</span></a>
                </li>
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-pencil-square-o"></i> <span>申請表單</span> <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="@Url.Action("Index", "Home", null)">
                                <i class="fa fa-circle-o"></i>加班申請單
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-list-ol"></i> <span>主管管理區</span> <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="@Url.Action("Index", "Home", null)">
                                <i class="fa fa-circle-o"></i>簽核表單
                            </a>
                        </li>
                        <li>
                            <a href="@Url.Action("Index", "Home", null)">
                                <i class="fa fa-circle-o"></i>表單一覽
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-gears"></i> <span>系統管理</span> <i class="fa fa-angle-left pull-right"></i>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="@Url.Action("Index", "Role", null)">
                                <i class="fa fa-circle-o"></i>Role
                            </a>
                        </li>
                        <li>
                            <a href="@Url.Action("Index", "Dep", null)">
                                <i class="fa fa-circle-o"></i>部門
                            </a>
                        </li>
                        <li>
                            <a href="@Url.Action("Index", "Employee", null)">
                                <i class="fa fa-circle-o"></i>員工
                            </a>
                        </li>
                        <li>
                            <a href='@Url.Action("Register", "Account")'><i class="fa fa-user-plus"></i><span>註冊</span></a>
                        </li>
                    </ul>

                </li>

                using(Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "" }))
                {
                    @Html.AntiForgeryToken()
                }
                <li>
                    <a href="javascript:document.getElementById('logoutForm').submit()">
                        <i class="fa fa-sign-out"></i> <span>登出</span>
                    </a>
                </li>
            }
            else
            {
                //https://stackoverflow.com/questions/21413596/razor-if-else-inside-a-for-loop-the-for-block-is-missing-a-closing-charac
                @:
                <li><a href='@Url.Action("Login", "Account")'><i class="fa fa-sign-in"></i> <span>登入</span></a></li>
                }
        </ul>

        }
        <!-- /.sidebar-menu -->
    </section>
    <!-- /.sidebar -->
</aside>